{"remainingRequest":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\src\\components\\FormMed.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\src\\components\\FormMed.vue","mtime":1630008910216},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\css-loader\\dist\\cjs.js","mtime":1630011798992},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1630011892119},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\postcss-loader\\src\\index.js","mtime":1630011823914},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630011738188},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\vue-loader\\lib\\index.js","mtime":1630011855456}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCnNlbGVjdCB7DQogIHdpZHRoOiAxMDAlOw0KICBwYWRkaW5nOiAxNnB4IDIwcHg7DQogIGJvcmRlcjogbm9uZTsNCiAgYm9yZGVyLXJhZGl1czogMTBweCAjMDAwMDAwOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZjsNCn0NCg=="},{"version":3,"sources":["FormMed.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4MA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormMed.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h3>Formulário de Nova Cirurgia Indicada</h3>\r\n    <div class=\"container\">\r\n      <form @submit=\"validateAndSubmit\">\r\n        <div v-if=\"errors.length\">\r\n          <div\r\n            class=\"alert alert-danger\"\r\n            v-bind:key=\"index\"\r\n            v-for=\"(error, index) in errors\"\r\n          >\r\n            {{ error }} \r\n          </div>\r\n        </div>\r\n        <fieldset class=\"form-group\">\r\n          <label>Nome da Paciente</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"nome\" />\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>CPF</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"cpf\" />\r\n        </fieldset>\r\n        <fieldset class=\"form-group\">\r\n          <label>Cirurgião Principal</label>\r\n\r\n        <select class=\"droplist\" @change = \"medEscolhido($event)\" v-model=\"cirurgiao\">\r\n            <option :value=\"med.nome\" v-for=\"(med) in medicos\" :key=\"med.id\">{{med.nome}}</option>\r\n        </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Dias de Internação</label>\r\n          <input type=\"number\" class=\"form-control\" v-model.number=\"diasInternado\" />\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Tempo na Sala Cirúrgica</label>\r\n          <input type=\"number\" class=\"form-control\" v-model.number=\"horasCirurgia\" />\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Necessita de UTI?</label>\r\n          <select class=\"droplist\" @change = \"utiEscolhido($event)\" v-model=\"uti\">\r\n            <option value=\"Sim\">Sim</option>\r\n            <option value=\"Não\">Não</option>\r\n          </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Necessita de Reserva de Sangue?</label>\r\n          <select class=\"droplist\" @change = \"sangEscolhido($event)\" v-model=\"reservaSangue\">\r\n            <option value=\"Sim\">Sim</option>\r\n            <option value=\"Não\">Não</option>\r\n          </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Necessidade de Biópsia de Congelação?</label>\r\n          <select class=\"droplist\" @change = \"biopEscolhido($event)\" v-model=\"biopsiaCongelacao\">\r\n            <option value=\"Sim\">Sim</option>\r\n            <option value=\"Não\">Não</option>\r\n          </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Preferência de Hospital</label>\r\n        <select class=\"droplist\" @change = \"hospEscolhido($event)\" v-model=\"hospital\">\r\n          <option :value=\"hosp.nome\" v-for=\"(hosp) in hospitais\" :key=\"hosp.id\">{{hosp.nome}}</option>\r\n        </select>\r\n        </fieldset>\r\n\r\n        <button class=\"btn btn-success\" type=\"submit\">Salvar</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserDataService from \"../service/UserDataService\";\r\n\r\nexport default {\r\n  name: \"Paciente\",\r\n  data() {\r\n    return {\r\n      nome: \"\",\r\n      cpf: \"\",\r\n      cirurgiao: \"\",\r\n      diasInternado:\"\",\r\n      horasCirurgia:\"\",\r\n      uti:\"Não\",\r\n      reservaSangue:\"Não\",\r\n      biopsiaCongelacao:\"Não\",\r\n      hospital:\"\",\r\n\r\n      medicos: [],\r\n      hospitais: [],\r\n      errors: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    id() {\r\n      return this.$route.params.id;\r\n    },\r\n  },\r\n  methods: {\r\n    refreshPacDetails() {\r\n      UserDataService.retrievePac(this.id).then((res) => {\r\n        this.nome = res.data.nome;\r\n        this.cpf = res.data.cpf;\r\n        this.cirurgiao = res.data.cirurgiao;\r\n        this.diasInternado = res.data.diasInternado;\r\n        this.horasCirurgia = res.data.horasCirurgia;\r\n        this.uti = res.data.uti;\r\n        this.reservaSangue = res.data.reservaSangue;\r\n        this.biopsiaCongelacao = res.data.biopsiaCongelacao;\r\n        this.hospital = res.data.hospital;\r\n      });\r\n    },\r\n    validateAndSubmit(e) {\r\n      e.preventDefault();\r\n      this.errors = [];\r\n      if (!this.nome) {\r\n        this.errors.push(\"Campo obrigatório\");\r\n      }\r\n      if (!this.cpf) {\r\n        this.errors.push(\"Campo obrigatório\");\r\n      } else if (this.cpf.length < 14) {\r\n        this.errors.push(\"Insira o CPF com pontos e vírgulas\");\r\n      }\r\n      if (this.errors.length === 0) {\r\n        if (this.id == -1) {\r\n          UserDataService.createPac({\r\n            nome: this.nome,\r\n            cpf: this.cpf,\r\n            cirurgiao: this.cirurgiao,\r\n            diasInternado: this.diasInternado,\r\n            horasCirurgia: this.horasCirurgia,\r\n            uti: this.uti,\r\n            reservaSangue: this.reservaSangue,\r\n            biopsiaCongelacao: this.biopsiaCongelacao,\r\n            hospital: this.hospital,\r\n          }).then(() => {\r\n            this.$router.push(\"/\");\r\n          });\r\n        } else {\r\n          UserDataService.updatePac(this.id, {\r\n            id: this.id,\r\n            nome: this.nome,\r\n            cpf: this.cpf,\r\n            cirurgiao: this.cirurgiao,\r\n            diasInternado: this.diasInternado,\r\n            horasCirurgia: this.horasCirurgia,\r\n            uti: this.uti,\r\n            reservaSangue: this.reservaSangue,\r\n            biopsiaCongelacao: this.biopsiaCongelacao,\r\n            hospital: this.hospital,\r\n          }).then(() => {\r\n            this.$router.push(\"/\");\r\n          });\r\n        }\r\n      }\r\n    },\r\n    refreshMedicos() {\r\n      UserDataService.retrieveAllMedicos().then((res) => {\r\n        this.medicos = res.data;\r\n      });\r\n    },\r\n    medEscolhido (event) {\r\n      this.cirurgiao = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    utiEscolhido (event) {\r\n      this.uti = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    sangEscolhido (event) {\r\n      this.reservaSangue = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    biopEscolhido (event) {\r\n      this.biopsiaCongelacao = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    refreshHospitais() {\r\n      UserDataService.retrieveAllHospitais().then((res) => {\r\n        this.hospitais = res.data;\r\n      });\r\n    },\r\n\r\n    hospEscolhido (event) {\r\n      this.hospital = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n    \r\n  },\r\n  created() {\r\n    this.refreshPacDetails();\r\n    this.refreshMedicos();\r\n    this.refreshHospitais();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nselect {\r\n  width: 100%;\r\n  padding: 16px 20px;\r\n  border: none;\r\n  border-radius: 10px #000000;\r\n  background-color: #ffff;\r\n}\r\n</style>\r\n"]}]}