{"remainingRequest":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\src\\components\\FormMed.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\src\\components\\FormMed.vue","mtime":1630008910216},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630011738188},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\babel-loader\\lib\\index.js","mtime":1630011825826},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630011738188},{"path":"C:\\Users\\lucas\\Documents\\GitHub\\Prontuario-Medico\\frontend-vue.js\\node_modules\\vue-loader\\lib\\index.js","mtime":1630011855456}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVXNlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2UvVXNlckRhdGFTZXJ2aWNlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUGFjaWVudGUiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBub21lOiAiIiwNCiAgICAgIGNwZjogIiIsDQogICAgICBjaXJ1cmdpYW86ICIiLA0KICAgICAgZGlhc0ludGVybmFkbzoiIiwNCiAgICAgIGhvcmFzQ2lydXJnaWE6IiIsDQogICAgICB1dGk6Ik7Do28iLA0KICAgICAgcmVzZXJ2YVNhbmd1ZToiTsOjbyIsDQogICAgICBiaW9wc2lhQ29uZ2VsYWNhbzoiTsOjbyIsDQogICAgICBob3NwaXRhbDoiIiwNCg0KICAgICAgbWVkaWNvczogW10sDQogICAgICBob3NwaXRhaXM6IFtdLA0KICAgICAgZXJyb3JzOiBbXSwNCiAgICB9Ow0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgaWQoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLmlkOw0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZWZyZXNoUGFjRGV0YWlscygpIHsNCiAgICAgIFVzZXJEYXRhU2VydmljZS5yZXRyaWV2ZVBhYyh0aGlzLmlkKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5ub21lID0gcmVzLmRhdGEubm9tZTsNCiAgICAgICAgdGhpcy5jcGYgPSByZXMuZGF0YS5jcGY7DQogICAgICAgIHRoaXMuY2lydXJnaWFvID0gcmVzLmRhdGEuY2lydXJnaWFvOw0KICAgICAgICB0aGlzLmRpYXNJbnRlcm5hZG8gPSByZXMuZGF0YS5kaWFzSW50ZXJuYWRvOw0KICAgICAgICB0aGlzLmhvcmFzQ2lydXJnaWEgPSByZXMuZGF0YS5ob3Jhc0NpcnVyZ2lhOw0KICAgICAgICB0aGlzLnV0aSA9IHJlcy5kYXRhLnV0aTsNCiAgICAgICAgdGhpcy5yZXNlcnZhU2FuZ3VlID0gcmVzLmRhdGEucmVzZXJ2YVNhbmd1ZTsNCiAgICAgICAgdGhpcy5iaW9wc2lhQ29uZ2VsYWNhbyA9IHJlcy5kYXRhLmJpb3BzaWFDb25nZWxhY2FvOw0KICAgICAgICB0aGlzLmhvc3BpdGFsID0gcmVzLmRhdGEuaG9zcGl0YWw7DQogICAgICB9KTsNCiAgICB9LA0KICAgIHZhbGlkYXRlQW5kU3VibWl0KGUpIHsNCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgIHRoaXMuZXJyb3JzID0gW107DQogICAgICBpZiAoIXRoaXMubm9tZSkgew0KICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCJDYW1wbyBvYnJpZ2F0w7NyaW8iKTsNCiAgICAgIH0NCiAgICAgIGlmICghdGhpcy5jcGYpIHsNCiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgiQ2FtcG8gb2JyaWdhdMOzcmlvIik7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuY3BmLmxlbmd0aCA8IDE0KSB7DQogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIkluc2lyYSBvIENQRiBjb20gcG9udG9zIGUgdsOtcmd1bGFzIik7DQogICAgICB9DQogICAgICBpZiAodGhpcy5lcnJvcnMubGVuZ3RoID09PSAwKSB7DQogICAgICAgIGlmICh0aGlzLmlkID09IC0xKSB7DQogICAgICAgICAgVXNlckRhdGFTZXJ2aWNlLmNyZWF0ZVBhYyh7DQogICAgICAgICAgICBub21lOiB0aGlzLm5vbWUsDQogICAgICAgICAgICBjcGY6IHRoaXMuY3BmLA0KICAgICAgICAgICAgY2lydXJnaWFvOiB0aGlzLmNpcnVyZ2lhbywNCiAgICAgICAgICAgIGRpYXNJbnRlcm5hZG86IHRoaXMuZGlhc0ludGVybmFkbywNCiAgICAgICAgICAgIGhvcmFzQ2lydXJnaWE6IHRoaXMuaG9yYXNDaXJ1cmdpYSwNCiAgICAgICAgICAgIHV0aTogdGhpcy51dGksDQogICAgICAgICAgICByZXNlcnZhU2FuZ3VlOiB0aGlzLnJlc2VydmFTYW5ndWUsDQogICAgICAgICAgICBiaW9wc2lhQ29uZ2VsYWNhbzogdGhpcy5iaW9wc2lhQ29uZ2VsYWNhbywNCiAgICAgICAgICAgIGhvc3BpdGFsOiB0aGlzLmhvc3BpdGFsLA0KICAgICAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBVc2VyRGF0YVNlcnZpY2UudXBkYXRlUGFjKHRoaXMuaWQsIHsNCiAgICAgICAgICAgIGlkOiB0aGlzLmlkLA0KICAgICAgICAgICAgbm9tZTogdGhpcy5ub21lLA0KICAgICAgICAgICAgY3BmOiB0aGlzLmNwZiwNCiAgICAgICAgICAgIGNpcnVyZ2lhbzogdGhpcy5jaXJ1cmdpYW8sDQogICAgICAgICAgICBkaWFzSW50ZXJuYWRvOiB0aGlzLmRpYXNJbnRlcm5hZG8sDQogICAgICAgICAgICBob3Jhc0NpcnVyZ2lhOiB0aGlzLmhvcmFzQ2lydXJnaWEsDQogICAgICAgICAgICB1dGk6IHRoaXMudXRpLA0KICAgICAgICAgICAgcmVzZXJ2YVNhbmd1ZTogdGhpcy5yZXNlcnZhU2FuZ3VlLA0KICAgICAgICAgICAgYmlvcHNpYUNvbmdlbGFjYW86IHRoaXMuYmlvcHNpYUNvbmdlbGFjYW8sDQogICAgICAgICAgICBob3NwaXRhbDogdGhpcy5ob3NwaXRhbCwNCiAgICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHJlZnJlc2hNZWRpY29zKCkgew0KICAgICAgVXNlckRhdGFTZXJ2aWNlLnJldHJpZXZlQWxsTWVkaWNvcygpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLm1lZGljb3MgPSByZXMuZGF0YTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgbWVkRXNjb2xoaWRvIChldmVudCkgew0KICAgICAgdGhpcy5jaXJ1cmdpYW8gPSBldmVudC50YXJnZXQub3B0aW9uc1tldmVudC50YXJnZXQub3B0aW9ucy5zZWxlY3RlZEluZGV4XS50ZXh0DQogICAgfSwNCg0KICAgIHV0aUVzY29saGlkbyAoZXZlbnQpIHsNCiAgICAgIHRoaXMudXRpID0gZXZlbnQudGFyZ2V0Lm9wdGlvbnNbZXZlbnQudGFyZ2V0Lm9wdGlvbnMuc2VsZWN0ZWRJbmRleF0udGV4dA0KICAgIH0sDQoNCiAgICBzYW5nRXNjb2xoaWRvIChldmVudCkgew0KICAgICAgdGhpcy5yZXNlcnZhU2FuZ3VlID0gZXZlbnQudGFyZ2V0Lm9wdGlvbnNbZXZlbnQudGFyZ2V0Lm9wdGlvbnMuc2VsZWN0ZWRJbmRleF0udGV4dA0KICAgIH0sDQoNCiAgICBiaW9wRXNjb2xoaWRvIChldmVudCkgew0KICAgICAgdGhpcy5iaW9wc2lhQ29uZ2VsYWNhbyA9IGV2ZW50LnRhcmdldC5vcHRpb25zW2V2ZW50LnRhcmdldC5vcHRpb25zLnNlbGVjdGVkSW5kZXhdLnRleHQNCiAgICB9LA0KDQogICAgcmVmcmVzaEhvc3BpdGFpcygpIHsNCiAgICAgIFVzZXJEYXRhU2VydmljZS5yZXRyaWV2ZUFsbEhvc3BpdGFpcygpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLmhvc3BpdGFpcyA9IHJlcy5kYXRhOw0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIGhvc3BFc2NvbGhpZG8gKGV2ZW50KSB7DQogICAgICB0aGlzLmhvc3BpdGFsID0gZXZlbnQudGFyZ2V0Lm9wdGlvbnNbZXZlbnQudGFyZ2V0Lm9wdGlvbnMuc2VsZWN0ZWRJbmRleF0udGV4dA0KICAgIH0sDQogICAgDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5yZWZyZXNoUGFjRGV0YWlscygpOw0KICAgIHRoaXMucmVmcmVzaE1lZGljb3MoKTsNCiAgICB0aGlzLnJlZnJlc2hIb3NwaXRhaXMoKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["FormMed.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FormMed.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h3>Formulário de Nova Cirurgia Indicada</h3>\r\n    <div class=\"container\">\r\n      <form @submit=\"validateAndSubmit\">\r\n        <div v-if=\"errors.length\">\r\n          <div\r\n            class=\"alert alert-danger\"\r\n            v-bind:key=\"index\"\r\n            v-for=\"(error, index) in errors\"\r\n          >\r\n            {{ error }} \r\n          </div>\r\n        </div>\r\n        <fieldset class=\"form-group\">\r\n          <label>Nome da Paciente</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"nome\" />\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>CPF</label>\r\n          <input type=\"text\" class=\"form-control\" v-model=\"cpf\" />\r\n        </fieldset>\r\n        <fieldset class=\"form-group\">\r\n          <label>Cirurgião Principal</label>\r\n\r\n        <select class=\"droplist\" @change = \"medEscolhido($event)\" v-model=\"cirurgiao\">\r\n            <option :value=\"med.nome\" v-for=\"(med) in medicos\" :key=\"med.id\">{{med.nome}}</option>\r\n        </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Dias de Internação</label>\r\n          <input type=\"number\" class=\"form-control\" v-model.number=\"diasInternado\" />\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Tempo na Sala Cirúrgica</label>\r\n          <input type=\"number\" class=\"form-control\" v-model.number=\"horasCirurgia\" />\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Necessita de UTI?</label>\r\n          <select class=\"droplist\" @change = \"utiEscolhido($event)\" v-model=\"uti\">\r\n            <option value=\"Sim\">Sim</option>\r\n            <option value=\"Não\">Não</option>\r\n          </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Necessita de Reserva de Sangue?</label>\r\n          <select class=\"droplist\" @change = \"sangEscolhido($event)\" v-model=\"reservaSangue\">\r\n            <option value=\"Sim\">Sim</option>\r\n            <option value=\"Não\">Não</option>\r\n          </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Necessidade de Biópsia de Congelação?</label>\r\n          <select class=\"droplist\" @change = \"biopEscolhido($event)\" v-model=\"biopsiaCongelacao\">\r\n            <option value=\"Sim\">Sim</option>\r\n            <option value=\"Não\">Não</option>\r\n          </select>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"form-group\">\r\n          <label>Preferência de Hospital</label>\r\n        <select class=\"droplist\" @change = \"hospEscolhido($event)\" v-model=\"hospital\">\r\n          <option :value=\"hosp.nome\" v-for=\"(hosp) in hospitais\" :key=\"hosp.id\">{{hosp.nome}}</option>\r\n        </select>\r\n        </fieldset>\r\n\r\n        <button class=\"btn btn-success\" type=\"submit\">Salvar</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserDataService from \"../service/UserDataService\";\r\n\r\nexport default {\r\n  name: \"Paciente\",\r\n  data() {\r\n    return {\r\n      nome: \"\",\r\n      cpf: \"\",\r\n      cirurgiao: \"\",\r\n      diasInternado:\"\",\r\n      horasCirurgia:\"\",\r\n      uti:\"Não\",\r\n      reservaSangue:\"Não\",\r\n      biopsiaCongelacao:\"Não\",\r\n      hospital:\"\",\r\n\r\n      medicos: [],\r\n      hospitais: [],\r\n      errors: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    id() {\r\n      return this.$route.params.id;\r\n    },\r\n  },\r\n  methods: {\r\n    refreshPacDetails() {\r\n      UserDataService.retrievePac(this.id).then((res) => {\r\n        this.nome = res.data.nome;\r\n        this.cpf = res.data.cpf;\r\n        this.cirurgiao = res.data.cirurgiao;\r\n        this.diasInternado = res.data.diasInternado;\r\n        this.horasCirurgia = res.data.horasCirurgia;\r\n        this.uti = res.data.uti;\r\n        this.reservaSangue = res.data.reservaSangue;\r\n        this.biopsiaCongelacao = res.data.biopsiaCongelacao;\r\n        this.hospital = res.data.hospital;\r\n      });\r\n    },\r\n    validateAndSubmit(e) {\r\n      e.preventDefault();\r\n      this.errors = [];\r\n      if (!this.nome) {\r\n        this.errors.push(\"Campo obrigatório\");\r\n      }\r\n      if (!this.cpf) {\r\n        this.errors.push(\"Campo obrigatório\");\r\n      } else if (this.cpf.length < 14) {\r\n        this.errors.push(\"Insira o CPF com pontos e vírgulas\");\r\n      }\r\n      if (this.errors.length === 0) {\r\n        if (this.id == -1) {\r\n          UserDataService.createPac({\r\n            nome: this.nome,\r\n            cpf: this.cpf,\r\n            cirurgiao: this.cirurgiao,\r\n            diasInternado: this.diasInternado,\r\n            horasCirurgia: this.horasCirurgia,\r\n            uti: this.uti,\r\n            reservaSangue: this.reservaSangue,\r\n            biopsiaCongelacao: this.biopsiaCongelacao,\r\n            hospital: this.hospital,\r\n          }).then(() => {\r\n            this.$router.push(\"/\");\r\n          });\r\n        } else {\r\n          UserDataService.updatePac(this.id, {\r\n            id: this.id,\r\n            nome: this.nome,\r\n            cpf: this.cpf,\r\n            cirurgiao: this.cirurgiao,\r\n            diasInternado: this.diasInternado,\r\n            horasCirurgia: this.horasCirurgia,\r\n            uti: this.uti,\r\n            reservaSangue: this.reservaSangue,\r\n            biopsiaCongelacao: this.biopsiaCongelacao,\r\n            hospital: this.hospital,\r\n          }).then(() => {\r\n            this.$router.push(\"/\");\r\n          });\r\n        }\r\n      }\r\n    },\r\n    refreshMedicos() {\r\n      UserDataService.retrieveAllMedicos().then((res) => {\r\n        this.medicos = res.data;\r\n      });\r\n    },\r\n    medEscolhido (event) {\r\n      this.cirurgiao = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    utiEscolhido (event) {\r\n      this.uti = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    sangEscolhido (event) {\r\n      this.reservaSangue = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    biopEscolhido (event) {\r\n      this.biopsiaCongelacao = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n\r\n    refreshHospitais() {\r\n      UserDataService.retrieveAllHospitais().then((res) => {\r\n        this.hospitais = res.data;\r\n      });\r\n    },\r\n\r\n    hospEscolhido (event) {\r\n      this.hospital = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n    \r\n  },\r\n  created() {\r\n    this.refreshPacDetails();\r\n    this.refreshMedicos();\r\n    this.refreshHospitais();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nselect {\r\n  width: 100%;\r\n  padding: 16px 20px;\r\n  border: none;\r\n  border-radius: 10px #000000;\r\n  background-color: #ffff;\r\n}\r\n</style>\r\n"]}]}